<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="script.js"></script>
    <link rel="stylesheet" href="styles.css">
    <title>Minesweeper Mobile</title>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1 class="title">💣 Minesweeper Mobile</h1>
            <p class="subtitle">Find all mines without detonating any!</p>
        </div>

        <div class="mobile-controls">
            <button class="btn primary" onclick="newGame()">🎮 New Game</button>
            <button class="btn" id="flag-btn" onclick="toggleFlagMode()">🚩 Flag Mode</button>
        </div>

        <div class="stats-panel">
            <div class="stat-card">
                <div class="stat-value" id="mines-count">10</div>
                <div class="stat-label">Mines Left</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="timer">00:00</div>
                <div class="stat-label">Time</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="tiles-left">54</div>
                <div class="stat-label">Tiles Left</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">Score</div>
            </div>
        </div>

        <div class="controls">
            <label>Difficulty:</label>
            <div class="difficulty-buttons">
                <button class="btn active" onclick="setDifficulty('beginner')">Beginner</button>
                <button class="btn" onclick="setDifficulty('intermediate')">Medium</button>
                <button class="btn" onclick="setDifficulty('expert')">Expert</button>
            </div>
        </div>

        <div class="game-actions">
            <button class="btn" onclick="toggleSettings()">⚙️ Settings</button>
            <button class="btn" onclick="showLeaderboard()">🏆 Scores</button>
            <button class="btn" onclick="showHelp()">❓ Help</button>
        </div>

        <div class="board-container">
            <div class="board" id="board"></div>
        </div>

        <div class="touch-instructions">
            <div class="touch-item">
                <div class="touch-icon">👆</div>
                <div>Tap to reveal tile</div>
            </div>
            <div class="touch-item">
                <div class="touch-icon">🖐️</div>
                <div>Long press to place flag</div>
            </div>
        </div>

        <div class="settings-panel" id="settings-panel">
            <h3>Game Settings</h3>
            <div class="setting-row">
                <div class="setting-label">Sound Effects:</div>
                <input type="checkbox" id="sound-toggle" checked onchange="toggleSound()">
            </div>
            <div class="setting-row">
                <div class="setting-label">Animations:</div>
                <input type="checkbox" id="animation-toggle" checked onchange="toggleAnimations()">
            </div>
            <div class="setting-row">
                <div class="setting-label">Theme:</div>
                <div class="themes">
                    <div class="theme-btn theme-classic active" onclick="setTheme('classic')"></div>
                    <div class="theme-btn theme-ocean" onclick="setTheme('ocean')"></div>
                    <div class="theme-btn theme-sunset" onclick="setTheme('sunset')"></div>
                    <div class="theme-btn theme-forest" onclick="setTheme('forest')"></div>
                    <div class="theme-btn theme-dark" onclick="setTheme('dark')"></div>
                </div>
            </div>
        </div>

        <div class="achievements" id="achievements">
            <div class="achievement" data-achievement="first-win">
                <div class="achievement-icon">🏆</div>
                <div class="achievement-title">First Win</div>
            </div>
            <div class="achievement" data-achievement="speed-demon">
                <div class="achievement-icon">⚡</div>
                <div class="achievement-title">Speed Run</div>
            </div>
            <div class="achievement" data-achievement="perfectionist">
                <div class="achievement-icon">💎</div>
                <div class="achievement-title">Perfect</div>
            </div>
            <div class="achievement" data-achievement="expert-cleared">
                <div class="achievement-icon">🎯</div>
                <div class="achievement-title">Expert</div>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div class="modal" id="game-modal">
        <div class="modal-content">
            <h2 class="modal-title" id="modal-title">Game Over!</h2>
            <p id="modal-message">Better luck next time!</p>
            <div id="modal-stats"></div>
            <div class="modal-buttons">
                <button class="btn primary" onclick="newGame(); closeModal()">Play Again</button>
                <button class="btn" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div class="modal" id="leaderboard-modal">
        <div class="modal-content">
            <h2 class="modal-title">🏆 High Scores</h2>
            <div class="leaderboard" id="leaderboard-content"></div>
            <button class="btn" onclick="closeLeaderboard()">Close</button>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal" id="help-modal">
        <div class="modal-content">
            <h2 class="modal-title">How to Play</h2>
            <div style="text-align: left; padding: 10px 0;">
                <p><strong>Goal:</strong> Clear the minefield without detonating any mines.</p>
                <p><strong>Controls:</strong></p>
                <ul style="padding-left: 20px; margin: 10px 0;">
                    <li><strong>Tap a tile</strong> to reveal it</li>
                    <li><strong>Long press</strong> to place/remove a flag</li>
                    <li>Numbers show mines in adjacent tiles</li>
                </ul>
                <p><strong>Tips:</strong></p>
                <ul style="padding-left: 20px; margin: 10px 0;">
                    <li>Start with corners and edges</li>
                    <li>Use flags to mark potential mines</li>
                    <li>Look for patterns in the numbers</li>
                </ul>
            </div>
            <button class="btn primary" onclick="closeHelp()">Got it!</button>
        </div>
    </div>
</body>
</html>